spring:
  application:
    name: arkive
  data:
    web:
      page-serialization-mode: direct
  datasource:
    url: ${DB_URL:jdbc:postgresql://localhost:5432/arkive?sessionTimezone=Asia/Ho_Chi_Minh}
    username: ${DB_USERNAME:postgres}
    password: ${DB_PASSWORD:password}
    driver-class-name: org.postgresql.Driver
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
        default_schema: arkive
  mail:
    host: smtp.gmail.com
    port: 587
    username: ${MAIL_USERNAME:username}
    password: ${MAIL_PASSWORD:password}
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
jwt:
  secretkey: ${JWT_SECRET:your_jwt_secret_key}
  valid-duration: 300000 # 5 minutes in milliseconds
  refreshable-duration: 604800000 # 7 days in milliseconds
server:
  port: 8080
  servlet:
    context-path: /arkive



app:
  environment: ${APP_ENV:development}
  name: ${APP_NAME:Arkive}
  default-admin:
    username: ${APP_DEFAULT_ADMIN_USERNAME:admin}
    email: ${APP_DEFAULT_ADMIN_EMAIL:admin@example.com}
    password: ${APP_DEFAULT_ADMIN_PASSWORD:admin123}
  google:
    client-id: ${GOOGLE_CLIENT_ID:your_google_client_id}
    client-secret: ${GOOGLE_CLIENT_SECRET:your_google_client_secret}
    redirect-uri: ${GOOGLE_REDIRECT_URI:http://localhost:4000/codeverest/api/auth/google/callback}
  s3:
    access-key: ${S3_ACCESS_KEY:your_s3_access_key}
    secret-key: ${S3_SECRET_KEY:your_s3_secret_key}
    bucket-name: ${S3_BUCKET_NAME:your_s3_bucket_name}
    thumbnail-bucket-name: ${S3_THUMBNAIL_BUCKET_NAME:your_s3_thumbnail_bucket_name}
    region: ${S3_REGION:your_s3_region}
    endpoint: ${S3_ENDPOINT:your_s3_endpoint}
  audit-log:
    enabled: ${AUDIT_LOG_ENABLED:true}
    save-to-database: ${AUDIT_LOG_SAVE_TO_DB:false} # Bật false để chỉ log console, true để lưu DB
    log-request-body: ${AUDIT_LOG_REQUEST_BODY:false} # Có log request body không (cẩn thận với sensitive data)
    log-response-body: ${AUDIT_LOG_RESPONSE_BODY:false} # Có log response body không

# Logging configuration
logging:
  level:
    root: INFO
    com.example.arkivebackend: INFO
    com.example.arkivebackend.config.RequestLoggingFilter: INFO # Audit log filter
    org.springframework.web: INFO
    org.hibernate.SQL: DEBUG # Show SQL queries
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE # Show SQL parameters
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n"
